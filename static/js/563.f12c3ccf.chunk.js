"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[563],{6563:function(e,r,n){n.r(r),n.d(r,{default:function(){return O}});var s=n(2791),t=n(364),a=n(1413),i=n(885),u=n(9232),o="users_usersWrapper__lX8OC",l="users_users__Gyr0H",c="users_pagination__RrQLn",f="user_userWrapper__0vdw-",d="user_userPhoto__z-VdA",m="user_userName__u5iD5",h="user_userId__Ab0wN",g=n(8478),p=n(1523),x=n(4409),v=n(890),_=n(184),b=function(e){var r=e.user,n=e.followingInProgress,s=e.follow,t=e.unfollow;return(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)(p.OL,{to:"/profile/"+r.id,children:(0,_.jsx)("img",{src:null!==r.photos.small?r.photos.small:g,alt:"avatar",className:d})}),(0,_.jsx)(v.Z,{className:m,children:r.name.length>8?r.name.slice(0,9)+"...":r.name}),(0,_.jsxs)("span",{className:h,children:["userId: ",e.user.id]}),(0,_.jsx)("div",{children:r.followed?(0,_.jsx)(x.zx,{name:"UnFollow",callback:function(){return t(r.id)},disabled:n.some((function(e){return e===r.id}))}):(0,_.jsx)(x.zx,{name:"Follow",callback:function(){return s(r.id)},disabled:n.some((function(e){return e===r.id}))})})]})},j=n(7246),w=n(9647),S=n(5705),C="usersSearchForm_formDataWrapper__EdvtU",N="usersSearchForm_select__NRNzI",P="usersSearchForm_sendData__NUBSB",k=(0,n(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Z=function(e){return e.usersPage.pageSize},F=function(e){return e.usersPage.totalUsersCount},U=function(e){return e.usersPage.currentPage},y=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},I=function(e){return e.usersPage.filter},R=(0,s.memo)((function(e){var r=e.onFilterChanged,n=(0,t.v9)(I);return(0,_.jsx)(S.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},onSubmit:function(e,n){var s=n.setSubmitting,t={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};r(t),s(!1)},children:function(e){var r=e.values,n=e.handleSubmit,s=e.isSubmitting,t=e.handleChange;return(0,_.jsxs)("form",{onSubmit:n,className:C,children:[(0,_.jsx)("input",{type:"text",name:"term",onChange:t,value:r.term,placeholder:"type to search..."}),(0,_.jsxs)(S.gN,{as:"select",name:"friend",className:N,children:[(0,_.jsx)("option",{value:"null",children:"all"}),(0,_.jsx)("option",{value:"true",children:"only followed"}),(0,_.jsx)("option",{value:"false",children:"only unfollowed"})]}),(0,_.jsx)("button",{type:"submit",disabled:s,className:P,children:"search"})]})}})})),L=n(9271),D=n(5645),E=function(){var e=(0,w.u)(),r=(0,i.Z)(e,1)[0],n=(0,D.i)().windowSize,f=(0,t.v9)(F),d=(0,t.v9)(U),m=(0,t.v9)(Z),h=(0,t.v9)(k),g=(0,t.v9)(z),p=(0,t.v9)(I),x=(0,t.I0)(),v=(0,L.k6)();(0,s.useEffect)((function(){var e=new URLSearchParams(v.location.search.substring(1)),r=Object.fromEntries(e.entries()),n=d,s=p;switch(r.page&&(n=Number(r.page)),r.term&&(s=(0,a.Z)((0,a.Z)({},s),{},{term:r.term})),r.friend){case"null":s=(0,a.Z)((0,a.Z)({},s),{},{friend:null});break;case"true":s=(0,a.Z)((0,a.Z)({},s),{},{friend:!0});break;case"false":s=(0,a.Z)((0,a.Z)({},s),{},{friend:!1})}x((0,u.Uk)(n,m,s))}),[]),(0,s.useEffect)((function(){var e=new URLSearchParams;p.term&&e.set("term",p.term),null!==p.friend&&e.set("friend",String(p.friend)),1!==d&&e.set("page",String(d)),v.push({pathname:"/users",search:e.toString()})}),[p,d]);var S=function(e){x((0,u.AC)(e))},C=function(e){x((0,u.Ow)(e))};return(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)(R,{onFilterChanged:function(e){x((0,u.Uk)(1,m,e))}}),(0,_.jsx)("div",{ref:r,className:l,children:h.map((function(e){return(0,_.jsx)(b,{follow:S,unfollow:C,user:e,followingInProgress:g},e.id)}))}),(0,_.jsx)("div",{className:c,children:(0,_.jsx)(j.Z,{count:Math.ceil(f/m),page:d,onChange:function(e,r){return n=r,void x((0,u.Uk)(n,m,p));var n},sx:{button:{borderRadius:"2px",marginRight:"".concat(n<=600?"0":"20px"),marginLeft:"0px",width:"24px",height:"24px",padding:"4px 8px",fontSize:"".concat(n<=600?"12px":"14px"),fontWeight:400,color:"var(--color)",backgroundColor:"transparent","&:hover":{backgroundColor:"#0066CC",color:"#fff"},"&.Mui-selected":{backgroundColor:"#0066CC",color:"#fff"},"&.MuiPaginationItem-ellipsis":{color:"var(--color)"}}}})})]})},O=(0,n(8535).D)((function(){var e=(0,t.v9)(y);return(0,_.jsxs)(_.Fragment,{children:[e?(0,_.jsx)(x.p9,{}):null,(0,_.jsx)(E,{})]})}))}}]);
//# sourceMappingURL=563.f12c3ccf.chunk.js.map