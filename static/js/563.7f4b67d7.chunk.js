"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[563],{6563:function(e,r,n){n.r(r),n.d(r,{default:function(){return E}});var s=n(2791),t=n(364),a=n(1413),i=n(885),u=n(9232),l="users_usersWrapper__lX8OC",o="users_users__Gyr0H",c="users_pagination__RrQLn",f="user_userWrapper__0vdw-",d="user_userPhoto__z-VdA",m="user_userName__u5iD5",h="user_userId__Ab0wN",g=n(8478),p=n(1523),x=n(4409),v=n(890),_=n(184),b=function(e){var r=e.user,n=e.followingInProgress,s=e.follow,t=e.unfollow;return(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)(p.OL,{to:"/profile/"+r.id,children:(0,_.jsx)("img",{src:null!==r.photos.small?r.photos.small:g,alt:"avatar",className:d})}),(0,_.jsx)(v.Z,{className:m,children:r.name.length>8?r.name.slice(0,9)+"...":r.name}),(0,_.jsxs)("span",{className:h,children:["userId: ",e.user.id]}),(0,_.jsx)("div",{children:r.followed?(0,_.jsx)(x.zx,{name:"UnFollow",callback:function(){return t(r.id)},disabled:n.some((function(e){return e===r.id}))}):(0,_.jsx)(x.zx,{name:"Follow",callback:function(){return s(r.id)},disabled:n.some((function(e){return e===r.id}))})})]})},j=n(7246),w=n(9647),C=n(5705),N="usersSearchForm_formDataWrapper__EdvtU",S="usersSearchForm_select__NRNzI",k="usersSearchForm_sendData__NUBSB",P=(0,n(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Z=function(e){return e.usersPage.pageSize},F=function(e){return e.usersPage.totalUsersCount},U=function(e){return e.usersPage.currentPage},y=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},I=function(e){return e.usersPage.filter},R=(0,s.memo)((function(e){var r=e.onFilterChanged,n=(0,t.v9)(I);return(0,_.jsx)(C.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},onSubmit:function(e,n){var s=n.setSubmitting,t={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};r(t),s(!1)},children:function(e){var r=e.values,n=e.handleSubmit,s=e.isSubmitting,t=e.handleChange;return(0,_.jsxs)("form",{onSubmit:n,className:N,children:[(0,_.jsx)("input",{type:"text",name:"term",onChange:t,value:r.term,placeholder:"type to search..."}),(0,_.jsxs)(C.gN,{as:"select",name:"friend",className:S,children:[(0,_.jsx)("option",{value:"null",children:"all"}),(0,_.jsx)("option",{value:"true",children:"only followed"}),(0,_.jsx)("option",{value:"false",children:"only unfollowed"})]}),(0,_.jsx)("button",{type:"submit",disabled:s,className:k,children:"search"})]})}})})),L=n(9271),D=function(){var e=(0,w.u)(),r=(0,i.Z)(e,1)[0],n=(0,t.v9)(F),f=(0,t.v9)(U),d=(0,t.v9)(Z),m=(0,t.v9)(P),h=(0,t.v9)(z),g=(0,t.v9)(I),p=(0,t.I0)(),x=(0,L.k6)();(0,s.useEffect)((function(){var e=new URLSearchParams(x.location.search.substring(1)),r=Object.fromEntries(e.entries()),n=f,s=g;switch(r.page&&(n=Number(r.page)),r.term&&(s=(0,a.Z)((0,a.Z)({},s),{},{term:r.term})),r.friend){case"null":s=(0,a.Z)((0,a.Z)({},s),{},{friend:null});break;case"true":s=(0,a.Z)((0,a.Z)({},s),{},{friend:!0});break;case"false":s=(0,a.Z)((0,a.Z)({},s),{},{friend:!1})}p((0,u.Uk)(n,d,s))}),[]),(0,s.useEffect)((function(){var e=new URLSearchParams;g.term&&e.set("term",g.term),null!==g.friend&&e.set("friend",String(g.friend)),1!==f&&e.set("page",String(f)),x.push({pathname:"/users",search:e.toString()})}),[g,f]);var v=function(e){p((0,u.AC)(e))},C=function(e){p((0,u.Ow)(e))};return(0,_.jsxs)("div",{className:l,children:[(0,_.jsx)(R,{onFilterChanged:function(e){p((0,u.Uk)(1,d,e))}}),(0,_.jsx)("div",{ref:r,className:o,children:m.map((function(e){return(0,_.jsx)(b,{follow:v,unfollow:C,user:e,followingInProgress:h},e.id)}))}),(0,_.jsx)("div",{className:c,children:(0,_.jsx)(j.Z,{count:Math.ceil(n/d),page:f,onChange:function(e,r){return n=r,void p((0,u.Uk)(n,d,g));var n},sx:{button:{borderRadius:"2px",marginRight:"20px",marginLeft:"0px",width:"24px",height:"24px",padding:"4px 8px",fontSize:"14px",fontWeight:400,backgroundColor:"transparent","&:hover":{backgroundColor:"#0066CC",color:"#fff"},"&.Mui-selected":{backgroundColor:"#0066CC",color:"#fff"}}}})})]})},E=(0,n(8535).D)((function(){var e=(0,t.v9)(y);return(0,_.jsxs)(_.Fragment,{children:[e?(0,_.jsx)(x.p9,{}):null,(0,_.jsx)(D,{})]})}))}}]);
//# sourceMappingURL=563.7f4b67d7.chunk.js.map