{"version":3,"file":"static/js/535.98dfab18.chunk.js","mappings":"wNACA,G,QAA8B,oCAA9B,EAAyE,6B,yDCc5DA,EAA0C,SAACC,GAEDA,EAA5CC,MAAP,MAAmDD,EAArCE,KAAOC,EAArB,EAAqBA,QAAUC,EAA/B,EAA+BA,MAAQC,EAAYL,EAAZK,SAEjCC,EAAWH,GAAWC,EAC5B,OACI,iCAAKG,UAAWC,EAAsB,KAAOF,EAAWE,EAAgB,KAASR,GAAjF,eACI,yBAAMK,IACLC,IAAY,0BAAOF,SAKnBK,EAAoC,SAACT,GAC9C,IAAOC,EAA6BD,EAA7BC,MAAgBS,GAAaV,EAAtBE,MAAd,OAAoCF,EAApC,IACA,OACI,SAACD,GAAD,kBAAiBC,GAAjB,cACI,oCAAWC,GAAWS,QAKrBC,EAAuC,SAACX,GACjD,IAAOC,EAA6BD,EAA7BC,MAAgBS,GAAaV,EAAtBE,MAAd,OAAoCF,EAApC,IACA,OACI,SAACD,GAAD,kBAAiBC,GAAjB,cACI,uCAAcC,GAAWS,QAKxBE,EAAc,SAACC,EACAC,EACAC,EACAC,EACAhB,GACuB,IAAvBiB,EAAsB,uDAAP,GACvC,OACI,iBAAKC,MAAO,CAACC,QAAQ,OAAQC,IAAK,OAAQC,eAAgB,SAAUC,WAAY,SAAUC,MAAO,SAAjG,WACI,SAACC,EAAA,GAAD,QAAOX,YAAaA,EACbC,KAAMA,EACNE,UAAWA,EACXS,SAAUV,GACNf,IACViB,O,0GC1Db,EAA+B,4BAA/B,EAAmE,qB,6BCDtDS,EAAW,SAACC,GACrB,IAAIA,EACJ,MAAO,qB,SCoCEC,GAAiBC,EAAAA,EAAAA,GAA0C,CAACC,KAAM,SAAjDD,EArBoE,SAAC,GAAmC,IAAlCE,EAAiC,EAAjCA,aAAc3B,EAAmB,EAAnBA,MAAM4B,EAAa,EAAbA,QACpH,OACI,kBAAMC,SAAUF,EAAcxB,UAAWC,EAAAA,EAAAA,YAAzC,WACI,gBAAKD,UAAWC,EAAAA,EAAAA,MAAhB,UACKI,EAAAA,EAAAA,IAAY,QAAS,QAAS,CAACc,GAAWjB,EAAAA,OAE/C,gBAAKF,UAAWC,EAAAA,EAAAA,SAAhB,UACKI,EAAAA,EAAAA,IAAY,WAAY,WAAY,CAACc,GAAWjB,EAAAA,GAAO,CAACyB,KAAM,gBAEnE,gBAAK3B,UAAWC,EAAAA,EAAAA,WAAhB,UACKI,EAAAA,EAAAA,IAAY,GAAI,aAAc,GAAIH,EAAAA,GAAO,CAACyB,KAAM,YAAa,iBAGjEF,IAAW,gBAAKG,IAAKH,EAASI,IAAK,YACnCJ,IAAWpB,EAAAA,EAAAA,IAAY,qBAAsB,UAAW,CAACc,GAAWjB,EAAAA,IAEpEL,IAAS,gBAAKG,UAAWC,EAAAA,EAAAA,iBAAhB,SAA2CJ,KACrD,mBAAQG,UAAWC,EAAAA,EAAAA,IAAnB,yBCEZ,GAAe6B,EAAAA,EAAAA,KALO,SAACC,GAAD,MAA+C,CACjEN,QAASM,EAAMC,KAAKP,QACpBQ,OAAQF,EAAMC,KAAKC,UAGiB,CAACC,MAAOC,EAAAA,IAAhD,EAnBc,SAAC1C,GAIX,OAAIA,EAAMwC,QAAe,SAAC,KAAD,CAAUG,GAAI,cAGnC,iBAAKpC,UAAWqC,EAAhB,WACI,iBAAMrC,UAAWqC,EAAjB,oBACA,SAAChB,EAAD,CAAgBK,SARP,SAACY,GACd7C,EAAMyC,MAAMI,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASb,UAOrCA,QAAShC,EAAMgC,iB,mBCzB/D,KAAgB,YAAc,+BAA+B,IAAM,uBAAuB,iBAAmB","sources":["webpack://samurai-way/./src/components/common/FormsControls/FormsControls.module.css?eb50","components/common/FormsControls/FormsControls.tsx","webpack://samurai-way/./src/components/login/login.module.css?e6ba","utils/validators/validators.ts","components/login/loginForm/LoginForm.tsx","components/login/Login.tsx","webpack://samurai-way/./src/components/login/loginForm/loginForm.module.css?13e1"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__4tOrb\",\"error\":\"FormsControls_error__Q4DIq\",\"formSummaryError\":\"FormsControls_formSummaryError__u8JeD\"};","import React from 'react';\r\nimport classes from './FormsControls.module.css'\r\nimport {Field} from 'redux-form';\r\n\r\ntype FormControlProps = {\r\n    input: {\r\n        name: string;\r\n    };\r\n    meta: {\r\n        touched?: boolean;\r\n        error?: string;\r\n    }\r\n    children: React.ReactNode\r\n};\r\n\r\nexport const FormControl: React.FC<FormControlProps> = (props) => {\r\n\r\n    const {input, meta: {touched , error}, children} = props\r\n\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError ? classes.error : '')} {...props}>\r\n            <div>{children}</div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Input: React.FC<FormControlProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport const Textarea: React.FC<FormControlProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport const createField = (placeholder: string,\r\n                            name: string,\r\n                            validators: any[],\r\n                            component: React.FC<FormControlProps>,\r\n                            props?: { type: string },\r\n                            text: string = '') => {\r\n    return (\r\n        <div style={{display:'flex', gap: '10px', justifyContent: 'center', alignItems: 'center', color: 'black'}}>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   component={component}\r\n                   validate={validators}\r\n                   {...props}/>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loginWrapper\":\"login_loginWrapper__Cpe58\",\"title\":\"login_title__XfTe2\"};","export const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport classes from './loginForm.module.css';\r\nimport {createField, Input} from '../../common/FormsControls/FormsControls';\r\nimport {required} from '../../../utils/validators/validators';\r\n\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMy: boolean\r\n    captcha: string\r\n}\r\ntype LoginFormOwnProp = {\r\n    captcha: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormOwnProp> & LoginFormOwnProp> = ({handleSubmit, error,captcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.formControl}>\r\n            <div className={classes.email}>\r\n                {createField('Email', 'email', [required], Input)}\r\n            </div>\r\n            <div className={classes.password}>\r\n                {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            </div>\r\n            <div className={classes.rememberMy}>\r\n                {createField('', 'rememberMy', [], Input, {type: 'checkbox'}, 'remember my')}\r\n            </div>\r\n\r\n            {captcha && <img src={captcha} alt={'captcha'}/> }\r\n            {captcha && createField('Symbols from image', 'captcha', [required], Input) }\r\n\r\n            {error && <div className={classes.formSummaryError}>{error}</div>}\r\n            <button className={classes.btn}>Login</button>\r\n        </form>\r\n    );\r\n};\r\nexport const LoginReduxForm = reduxForm<FormDataType, LoginFormOwnProp>({form: 'login'})(LoginForm)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {loginThunkCreator} from '../../redux/auth/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport styles from './login.module.css'\r\nimport {FormDataType, LoginReduxForm} from './loginForm/LoginForm';\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    captcha: string | null\r\n}\r\ntype MapDispatchToPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captchaUrl: string) => void\r\n}\r\ntype LoginPropsType = MapDispatchToPropsType & MapStateToPropsType\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMy, formData.captcha)\r\n    }\r\n    if (props.isAuth) return <Redirect to={'/profile'}/>\r\n\r\n    return (\r\n        <div className={styles.loginWrapper}>\r\n            <span className={styles.title}>Login</span>\r\n            <LoginReduxForm onSubmit={onSubmit} captcha={props.captcha}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    captcha: state.auth.captcha,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login: loginThunkCreator,})(Login)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"loginForm_formControl__u6OBx\",\"btn\":\"loginForm_btn__7B8je\",\"formSummaryError\":\"loginForm_formSummaryError__suXwL\"};"],"names":["FormControl","props","input","meta","touched","error","children","hasError","className","classes","Input","restProps","Textarea","createField","placeholder","name","validators","component","text","style","display","gap","justifyContent","alignItems","color","Field","validate","required","value","LoginReduxForm","reduxForm","form","handleSubmit","captcha","onSubmit","type","src","alt","connect","state","auth","isAuth","login","loginThunkCreator","to","styles","formData","email","password","rememberMy"],"sourceRoot":""}