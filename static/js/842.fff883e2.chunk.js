"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[842],{6842:function(e,a,s){s.r(a),s.d(a,{AddIMessageForm:function(){return k},default:function(){return N}});var r=s(885),n=s(2791),t="chat-page_chatWrapper__hJnmo",c="chat-page_messages__aK5je",i="chat-page_message__As1ex",u="chat-page_imageAndText__uxSB1",l="chat-page_avatar__nHf5L",o="chat-page_text__+Khqt",h="chat-page_name__3lMYS",d="chat-page_messageText__5NOrs",m="chat-page_addNewContentWrapper__yZ5ch",f=s(4409),v=s(890),_=s(364),g=s(1075),x=s(8535),p=s(8478),j=s(184),N=(0,x.D)((function(){return(0,j.jsx)("div",{className:t,children:(0,j.jsx)(b,{})})})),b=function(){var e=(0,_.v9)((function(e){return e.chat.status})),a=(0,_.I0)();return(0,n.useEffect)((function(){return a((0,g.Lw)()),function(){a((0,g.jp)())}}),[]),(0,j.jsxs)(j.Fragment,{children:["error"===e&&(0,j.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w,{}),(0,j.jsx)(k,{})]})]})},w=function(){var e=(0,n.useRef)(null),a=(0,_.v9)((function(e){return e.chat.messages})),s=(0,n.useState)(!0),t=(0,r.Z)(s,2),i=t[0],u=t[1];(0,n.useEffect)((function(){var a;i&&(null===(a=e.current)||void 0===a||a.scrollIntoView({behavior:"smooth"}))}),[a]);return(0,j.jsxs)("div",{className:c,onScroll:function(e){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<300?!i&&u(!0):i&&u(!1)},children:[null===a||void 0===a?void 0:a.map((function(e){return(0,j.jsx)(y,{photo:e.photo,userName:e.userName,message:e.message},e.id)})),(0,j.jsx)("div",{ref:e})]})},y=(0,n.memo)((function(e){var a=e.photo,s=e.userName,r=e.message;return(0,j.jsx)("div",{className:i,children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{className:l,alt:"myAvatar",src:a||p}),(0,j.jsxs)("div",{className:o,children:[(0,j.jsx)("div",{className:h,children:(0,j.jsx)(v.Z,{variant:"subtitle1",children:s})}),(0,j.jsx)("pre",{className:d,children:(0,j.jsx)(v.Z,{variant:"body2",children:r})})]})]})})})),k=function(){var e=(0,_.v9)((function(e){return e.chat.status})),a=(0,n.useState)(""),s=(0,r.Z)(a,2),t=s[0],c=s[1],i=(0,_.I0)(),u=function(){t&&(i((0,g.q2)(t)),c(""))};return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("textarea",{onKeyPress:function(e){"Enter"===e.key&&u()},placeholder:"send new message",value:t,onChange:function(e){c(e.currentTarget.value)}}),(0,j.jsx)(f.zx,{name:"send",callback:u,disabled:"ready"!==e})]})}}}]);
//# sourceMappingURL=842.fff883e2.chunk.js.map