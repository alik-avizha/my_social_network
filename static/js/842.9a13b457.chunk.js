"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[842],{6842:function(e,a,s){s.r(a),s.d(a,{AddIMessageForm:function(){return y},default:function(){return j}});var n=s(885),r=s(2791),t="chat-page_chatWrapper__hJnmo",c="chat-page_messages__aK5je",i="chat-page_message__As1ex",u="chat-page_imageAndText__uxSB1",l="chat-page_avatar__nHf5L",o="chat-page_text__+Khqt",h="chat-page_name__3lMYS",d="chat-page_messageText__5NOrs",m="chat-page_addNewContentWrapper__yZ5ch",f=s(4409),v=s(890),_=s(364),x=s(1075),g=s(9271),p=s(184),j=function(){return(0,_.v9)((function(e){return e.auth.isAuth}))?(0,p.jsx)("div",{className:t,children:(0,p.jsx)(N,{})}):(0,p.jsx)(g.l_,{to:"/login"})},N=function(){var e=(0,_.v9)((function(e){return e.chat.status})),a=(0,_.I0)();return(0,r.useEffect)((function(){return a((0,x.Lw)()),function(){a((0,x.jp)())}}),[]),(0,p.jsxs)("div",{children:["error"===e&&(0,p.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b,{}),(0,p.jsx)(y,{})]})]})},b=function(){var e=(0,r.useRef)(null),a=(0,_.v9)((function(e){return e.chat.messages})),s=(0,r.useState)(!0),t=(0,n.Z)(s,2),i=t[0],u=t[1];(0,r.useEffect)((function(){var a;i&&(null===(a=e.current)||void 0===a||a.scrollIntoView({behavior:"smooth"}))}),[a]);return(0,p.jsxs)("div",{className:c,onScroll:function(e){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<300?!i&&u(!0):i&&u(!1)},children:[null===a||void 0===a?void 0:a.map((function(e){return(0,p.jsx)(w,{photo:e.photo,userName:e.userName,message:e.message},e.id)})),(0,p.jsx)("div",{ref:e})]})},w=(0,r.memo)((function(e){var a=e.photo,s=e.userName,n=e.message;return(0,p.jsx)("div",{className:i,children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{className:l,alt:"myAvatar",src:a}),(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("div",{className:h,children:(0,p.jsx)(v.Z,{variant:"subtitle1",children:s})}),(0,p.jsx)("pre",{className:d,children:(0,p.jsx)(v.Z,{variant:"body2",children:n})})]})]})})})),y=function(){var e=(0,_.v9)((function(e){return e.chat.status})),a=(0,r.useState)(""),s=(0,n.Z)(a,2),t=s[0],c=s[1],i=(0,_.I0)(),u=function(){t&&(i((0,x.q2)(t)),c(""))};return(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("textarea",{onKeyPress:function(e){"Enter"===e.key&&u()},placeholder:"send new message",value:t,onChange:function(e){c(e.currentTarget.value)}}),(0,p.jsx)(f.zx,{name:"send",callback:u,disabled:"ready"!==e})]})}}}]);
//# sourceMappingURL=842.9a13b457.chunk.js.map