"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[493],{493:function(e,r,n){n.r(r),n.d(r,{UsersContainerSecond:function(){return O},default:function(){return R}});var s=n(5671),t=n(3144),o=n(136),a=n(5716),i=n(2791),l=n(364),u=n(9232),c=n(885),p="users_usersWrapper__lX8OC",f="users_users__Gyr0H",d="users_pagination__RrQLn",g="user_userWrapper__0vdw-",h="user_userPhoto__z-VdA",m="user_userName__u5iD5",x="user_userId__Ab0wN",w=n(8478),C=n(1523),v=n(8360),_=n(184),j=function(e){var r=e.user,n=e.followingInProgress,s=e.follow,t=e.unfollow;return(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)(C.OL,{to:"/profile/"+r.id,children:(0,_.jsx)("img",{src:null!==r.photos.small?r.photos.small:w,alt:"avatar",className:h})}),(0,_.jsx)("span",{className:m,children:r.name.length>8?r.name.slice(0,9)+"...":r.name}),(0,_.jsxs)("span",{className:x,children:["userId: ",e.user.id]}),(0,_.jsx)("div",{children:r.followed?(0,_.jsx)(v.zx,{name:"UnFollow",callback:function(){return t(r.id)},disabled:n.some((function(e){return e===r.id}))}):(0,_.jsx)(v.zx,{name:"Follow",callback:function(){return s(r.id)},disabled:n.some((function(e){return e===r.id}))})})]})},P=n(7246),b=n(9647),S=n(5705),U={formDataWrapper:"usersSearchForm_formDataWrapper__EdvtU",sendData:"usersSearchForm_sendData__NUBSB"},F=function(e){return{}},N=(0,i.memo)((function(e){var r=e.onFilterChanged;return(0,_.jsx)(S.J9,{initialValues:{term:"",friend:"null"},validate:F,onSubmit:function(e,n){var s=n.setSubmitting,t={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};r(t),s(!1)},children:function(e){var r=e.values,n=e.handleSubmit,s=e.isSubmitting,t=e.handleChange;return(0,_.jsxs)("form",{onSubmit:n,className:U.formDataWrapper,children:[(0,_.jsx)("input",{type:"text",name:"term",onChange:t,value:r.term,placeholder:"type to search..."}),(0,_.jsxs)(S.gN,{as:"select",name:"friend",className:U.select,children:[(0,_.jsx)("option",{value:"null",children:"all"}),(0,_.jsx)("option",{value:"true",children:"only followed"}),(0,_.jsx)("option",{value:"false",children:"only unfollowed"})]}),(0,_.jsx)("button",{type:"submit",disabled:s,className:U.sendData,children:"search"})]})}})})),k=function(e){var r=e.users,n=e.pageSize,s=e.totalUsersCount,t=e.follow,o=e.unfollow,a=e.onPageChanged,i=e.followingInProgress,l=e.onFilterChanged,u=e.currentPage,g=(0,b.u)(),h=(0,c.Z)(g,1)[0];return(0,_.jsxs)("div",{className:p,children:[(0,_.jsx)(N,{onFilterChanged:l}),(0,_.jsx)("div",{ref:h,className:f,children:r.map((function(e){return(0,_.jsx)(j,{follow:t,unfollow:o,user:e,followingInProgress:i},e.id)}))}),(0,_.jsx)("div",{className:d,children:(0,_.jsx)(P.Z,{count:Math.ceil(s/n),page:u,onChange:function(e,r){return a(r)},sx:{button:{borderRadius:"2px",marginRight:"20px",marginLeft:"0px",width:"24px",height:"24px",padding:"4px 8px",fontSize:"14px",fontWeight:400,backgroundColor:"transparent","&:hover":{backgroundColor:"#0066CC",color:"#fff"},"&.Mui-selected":{backgroundColor:"#0066CC",color:"#fff"}}}})})]})},y=n(7781),z=(0,n(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),D=function(e){return e.usersPage.pageSize},I=function(e){return e.usersPage.totalUsersCount},W=function(e){return e.usersPage.currentPage},Z=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followingInProgress},L=function(e){return e.usersPage.filter},M=n(8535),O=function(e){(0,o.Z)(n,e);var r=(0,a.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))).onPageChanged=function(r){var n=e.props,s=n.pageSize,t=n.filter;e.props.getUsers(r,s,t)},e.onFilterChanged=function(r){var n=e.props.pageSize;e.props.getUsers(1,n,r)},e}return(0,t.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,r=e.currentPage,n=e.pageSize,s=e.filter;this.props.getUsers(r,n,s)}},{key:"componentWillUnmount",value:function(){this.props.getUsers(1,this.props.pageSize,{term:"",friend:null})}},{key:"render",value:function(){return(0,_.jsxs)(_.Fragment,{children:[this.props.isFetching?(0,_.jsx)(v.p9,{}):null,(0,_.jsx)(k,{users:this.props.users,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,onFilterChanged:this.onFilterChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(i.Component),R=(0,y.qC)((0,l.$j)((function(e){return{users:z(e),pageSize:D(e),totalUsersCount:I(e),currentPage:W(e),isFetching:Z(e),followingInProgress:A(e),filter:L(e)}}),{follow:u.AC,unfollow:u.Ow,getUsers:u.Uk}),M.D)(O)}}]);
//# sourceMappingURL=493.96cdf1a2.chunk.js.map