{"version":3,"file":"static/js/901.ad71b0df.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Users/users.module.css?9211","webpack://samurai-way/./src/components/Users/User/user.module.css?e76d","components/Users/User/User.tsx","components/Users/Users.tsx","redux/users/users-selectors.ts","components/Users/UsersContainer.tsx","webpack://samurai-way/./src/components/common/Button/Button.module.css?9e52","components/common/Button/Button.tsx","hoc/withAuthRedirect.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersWrapper\":\"users_usersWrapper__rqt2O\",\"users\":\"users_users__HxCrt\",\"pagination\":\"users_pagination__PISPk\"};","// extracted by mini-css-extract-plugin\nexport default {\"userWrapper\":\"user_userWrapper__h4XUp\",\"userPhoto\":\"user_userPhoto__CbBHr\",\"userName\":\"user_userName__iy9Zd\",\"userId\":\"user_userId__d7QCD\"};","import React from 'react';\r\nimport styles from './user.module.css'\r\nimport userPhoto from '../../../assets/images/user.jpg'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {UserType} from '../../../redux/users/users-reducer';\r\nimport {Button} from '../../common/Button/Button';\r\n\r\ntype UsersPropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nexport const User: React.FC<UsersPropsType> = (props) => {\r\n    const {user, followingInProgress, follow, unfollow} = props\r\n\r\n    return (\r\n        <div className={styles.userWrapper}>\r\n            <NavLink to={'/profile/' + user.id}>\r\n                <img src={user.photos.small !== null ? user.photos.small : userPhoto} alt=\"avatar\"\r\n                     className={styles.userPhoto}/>\r\n            </NavLink>\r\n            <span className={styles.userName}>{user.name.length > 8 ? user.name.slice(0, 9) + '...' : user.name}</span>\r\n            <span className={styles.userId}>userId: {props.user.id}</span>\r\n            <div>\r\n                {user.followed\r\n                    ? <Button name={'UnFollow'} callback={() => unfollow(user.id)}\r\n                              disabled={followingInProgress.some(id => id === user.id)}/>\r\n                    : <Button name={'Follow'} callback={() => follow(user.id)}\r\n                              disabled={followingInProgress.some(id => id === user.id)}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {UserType} from '../../redux/users/users-reducer';\r\nimport styles from './users.module.css'\r\nimport {User} from './User/User';\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\ntype UsersPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport const Users: React.FC<UsersPropsType> = (props) => {\r\n    const {users, pageSize, totalUsersCount, currentPage, follow, unfollow, onPageChanged, followingInProgress} = props\r\n\r\n    return (\r\n        <div className={styles.usersWrapper}>\r\n            <div className={styles.pagination}>\r\n                <Pagination count={Math.ceil(totalUsersCount / pageSize)}\r\n                            onChange={(e: React.ChangeEvent<unknown>, value: number) => onPageChanged(value)}/>\r\n            </div>\r\n\r\n            <div className={styles.users}>\r\n                {users.map(u => {\r\n                        return (\r\n                            <User key={u.id} follow={follow} unfollow={unfollow} user={u}\r\n                                  followingInProgress={followingInProgress}/>\r\n                        )\r\n                    }\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {AppStateType} from '../redux-store';\r\nimport {UserType} from './users-reducer';\r\nimport {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = (state: AppStateType): UserType[] => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,(users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType): number => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType): number => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType): number => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType): boolean => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType): Array<number> => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {followThunkCreator, getUsersThunkCreator, unfollowThunkCreator, UserType} from '../../redux/users/users-reducer';\r\nimport {Users} from './Users';\r\nimport {Preloader} from '../common/PreLoader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from '../../redux/users/users-selectors';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\ntype MapStateToProps = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\ntype MapDispatchTopProps = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\ntype UsersPropsType = MapStateToProps & MapDispatchTopProps\r\n\r\nexport class UsersContainerSecond extends React.Component<UsersPropsType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching\r\n                    ? <Preloader/>\r\n                    : null}\r\n                <Users\r\n                    users={this.props.users}\r\n                    pageSize={this.props.pageSize}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}*/\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nconst UsersContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow: followThunkCreator,\r\n        unfollow: unfollowThunkCreator,\r\n        getUsers: getUsersThunkCreator\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainerSecond)\r\n\r\nexport default UsersContainer","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__fsSX9\"};","import React from 'react';\r\nimport classes from './Button.module.css'\r\n\r\n\r\ntype ButtonPropsType = {\r\n    name: string\r\n    callback: () => void\r\n    disabled?: boolean\r\n\r\n}\r\n\r\nexport const Button = (props: ButtonPropsType) => {\r\n        return (\r\n        <button className={classes.btn} onClick={props.callback} disabled={props.disabled ? props.disabled : false}>{props.name}</button>\r\n    );\r\n};\r\n","import React, {Component, ComponentType} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from '../redux/redux-store';\r\nimport {connect} from 'react-redux';\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType): MapStateToProps => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    const RedirectComponent =  (props: MapStateToProps) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!props.isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}\r\n"],"names":["User","props","user","followingInProgress","follow","unfollow","className","styles","to","id","src","photos","small","userPhoto","alt","name","length","slice","followed","Button","callback","disabled","some","Users","users","pageSize","totalUsersCount","currentPage","onPageChanged","Pagination","count","Math","ceil","onChange","e","value","map","u","getUsers","createSelector","state","usersPage","filter","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainerSecond","pageNumber","this","Preloader","React","compose","connect","followThunkCreator","unfollowThunkCreator","getUsersThunkCreator","withAuthRedirect","classes","onClick","mapStateToPropsForRedirect","isAuth","auth","Component","restProps"],"sourceRoot":""}